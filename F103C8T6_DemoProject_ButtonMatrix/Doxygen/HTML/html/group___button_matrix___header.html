<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Diploma Thesis DAW-Controller: Button Matrix: Header File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mdw_Logo_weiss.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">Diploma Thesis DAW-Controller: Button Matrix<span id="projectnumber">&#160;Demo Project</span>
   </div>
   <div id="projectbrief">This Project shows how to setup and use a button matrix.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___button_matrix___header.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">Header File<div class="ingroups"><a class="el" href="group___button_matrix.html">Button Matrix</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Study this module if you just want to use the button matrix functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:button_matrix_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="button_matrix_8h.html">buttonMatrix.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbutton_matrix___coordinates___td.html">buttonMatrix_Coordinates_Td</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to store coordinates to a button.  <a href="structbutton_matrix___coordinates___td.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbutton_matrix__init___td.html">buttonMatrix_init_Td</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to store the initialization values.  <a href="structbutton_matrix__init___td.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbutton_matrix___interrupt_management___td.html">buttonMatrix_InterruptManagement_Td</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for Interrupt Management.  <a href="structbutton_matrix___interrupt_management___td.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main Button Matrix Structure.  <a href="structbutton_matrix__struct_td.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga2a68885cfffb8cb7eab4379babc304be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#ga2a68885cfffb8cb7eab4379babc304be">BUTTON_MATRIX_MAX_INTERRUPT_LINES</a>&#160;&#160;&#160;16U</td></tr>
<tr class="separator:ga2a68885cfffb8cb7eab4379babc304be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Enumerations for the user in external use</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>These enumerations are offered to the user to write a better understandable code and to avoid magic numbers when working with this module.</p><ul>
<li>INT stands for Interrupt.</li>
<li>DRV stands for Drive. </li>
</ul>
</td></tr>
<tr class="memitem:gabdb8895c889573f8e6bb56ba62be1ea9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#gabdb8895c889573f8e6bb56ba62be1ea9">buttonMatrix_lines_enum</a> { <br />
&#160;&#160;<a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a118610d8328c40bad0691291b2fddd1a">BUTTON_MATRIX_INT_0</a> = 0
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9aa86660b0fe5622fa61c859bfce94faf5">BUTTON_MATRIX_INT_1</a> = 1
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a0afa49e3730408be64369491a189f6b3">BUTTON_MATRIX_INT_2</a> = 2
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9aa6bfb0d0b290c28da4f14c5d17a2e9c0">BUTTON_MATRIX_INT_3</a> = 3
, <br />
&#160;&#160;<a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a61de0a126c3acf4538854af16ce5298e">BUTTON_MATRIX_INT_4</a> = 4
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a4fcb566230bc27728fd18fd55c4f39d7">BUTTON_MATRIX_INT_5</a> = 5
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9ac5b91d99c9d5373c92d303868d7e3af6">BUTTON_MATRIX_INT_6</a> = 6
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9ad75c42110943d2871689475e9c51f610">BUTTON_MATRIX_INT_7</a> = 7
, <br />
&#160;&#160;<a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9adbebee681112be097a34ce785a39e65b">BUTTON_MATRIX_INT_8</a> = 8
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a3606d00feef726445a24fd0b5a68d066">BUTTON_MATRIX_INT_9</a> = 9
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a3215652b2a1329bf54070d8a28c980bc">BUTTON_MATRIX_INT_10</a> = 10
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a73049ec615f5324eafe2054ee235b593">BUTTON_MATRIX_INT_11</a> = 11
, <br />
&#160;&#160;<a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a5de84e4c6696ff19160449104312107f">BUTTON_MATRIX_INT_12</a> = 12
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9afe0b857c3ed2dde502e801c844f23943">BUTTON_MATRIX_INT_13</a> = 13
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9ac03c6ad629985860d8ed2707b0e7325c">BUTTON_MATRIX_INT_14</a> = 14
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a592caca8ec17254576b60f233863ed28">BUTTON_MATRIX_INT_15</a> = 15
, <br />
&#160;&#160;<a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9aeeec8920557ed0f538a2e58e525d52d3">BUTTON_MATRIX_DRV_0</a> = 0
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a68a1fd0f67f7b36c4d60738c4f445038">BUTTON_MATRIX_DRV_1</a> = 1
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9ab9e4b18a5b114d93419e08a7d60f615e">BUTTON_MATRIX_DRV_2</a> = 2
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a553713ff2bab1ff03c89c49cd304e914">BUTTON_MATRIX_DRV_3</a> = 3
, <br />
&#160;&#160;<a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9ad7af46093167ab27d8771b6d77e3a19e">BUTTON_MATRIX_DRV_4</a> = 4
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a33a5d260c48a7d77f406c1dc3859ae47">BUTTON_MATRIX_DRV_5</a> = 5
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a0c44edc3664206397763132459faaf79">BUTTON_MATRIX_DRV_6</a> = 6
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a8d10a4b7460f7315ac928e35c30d1588">BUTTON_MATRIX_DRV_7</a> = 7
, <br />
&#160;&#160;<a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a1d049a9553506be89148017cc9c9b3ee">BUTTON_MATRIX_DRV_8</a> = 8
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9aca9fc598020d6370075e2e75c777d145">BUTTON_MATRIX_DRV_9</a> = 9
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9ac50d1b29a13da4b6db77d2a03da5626d">BUTTON_MATRIX_DRV_10</a> = 10
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a18c3283cf5e299b7b7dfdd6c552c23d1">BUTTON_MATRIX_DRV_11</a> = 11
, <br />
&#160;&#160;<a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a875f60d951e7c65ecb6564fe5a13c9f8">BUTTON_MATRIX_DRV_12</a> = 12
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a1b03744952bef3e05f0335df77c4ef6f">BUTTON_MATRIX_DRV_13</a> = 13
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9a86759bb90d8d89fd8be03b94353aae1d">BUTTON_MATRIX_DRV_14</a> = 14
, <a class="el" href="group___button_matrix___header.html#ggabdb8895c889573f8e6bb56ba62be1ea9ae2669dfc92f743ea9a29f43cde8810f3">BUTTON_MATRIX_DRV_15</a> = 15
<br />
 }</td></tr>
<tr class="separator:gabdb8895c889573f8e6bb56ba62be1ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Structures to handle the button matrix</h2></td></tr>
<tr class="memitem:gad8478777f78978a1397daf2cdc4c2121"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structbutton_matrix___coordinates___td.html">buttonMatrix_Coordinates_Td</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#gad8478777f78978a1397daf2cdc4c2121">buttonMatrix_Coordinates_Td</a></td></tr>
<tr class="memdesc:gad8478777f78978a1397daf2cdc4c2121"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to store coordinates to a button.  <br /></td></tr>
<tr class="separator:gad8478777f78978a1397daf2cdc4c2121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7953036b1213ed5b2b8786b0c882aa00"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structbutton_matrix__init___td.html">buttonMatrix_init_Td</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#ga7953036b1213ed5b2b8786b0c882aa00">buttonMatrix_init_Td</a></td></tr>
<tr class="memdesc:ga7953036b1213ed5b2b8786b0c882aa00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to store the initialization values.  <br /></td></tr>
<tr class="separator:ga7953036b1213ed5b2b8786b0c882aa00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9fc327892d516d19069c4c8867cec55"><td class="memItemLeft" align="right" valign="top"><a id="gaa9fc327892d516d19069c4c8867cec55" name="gaa9fc327892d516d19069c4c8867cec55"></a>
typedef struct <a class="el" href="structbutton_matrix___interrupt_management___td.html">buttonMatrix_InterruptManagement_Td</a>&#160;</td><td class="memItemRight" valign="bottom"><b>buttonMatrix_InterruptManagement_Td</b></td></tr>
<tr class="memdesc:gaa9fc327892d516d19069c4c8867cec55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for Interrupt Management. <br /></td></tr>
<tr class="separator:gaa9fc327892d516d19069c4c8867cec55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbbdcf6696963db7f2cfd30753f2966c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#gadbbdcf6696963db7f2cfd30753f2966c">buttonMatrix_structTd</a></td></tr>
<tr class="memdesc:gadbbdcf6696963db7f2cfd30753f2966c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main Button Matrix Structure.  <br /></td></tr>
<tr class="separator:gadbbdcf6696963db7f2cfd30753f2966c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Setup, initialize and start the Button Matrix</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="SetupProcedure"></a> Procedure to setup a button matrix:</p><ol type="1">
<li>Declare an object of the type <a class="el" href="structbutton_matrix__struct_td.html" title="Main Button Matrix Structure.">buttonMatrix_structTd</a> for the matrix</li>
<li>Use <a class="el" href="group___button_matrix___header.html#gad2232d608028526f36adb03ab41fe57a" title="Set values of the structure to required start values.">ButtonMatrix_init_Structure()</a> to fill the structure with required start values</li>
<li>Call <a class="el" href="group___button_matrix___header.html#gafb168e4c7e7a9e6f52e13d221186941e" title="Setup a Pin for an interrupt line. This function will return the number of the line....">ButtonMatrix_init_InterruptLinePin()</a> for each interrupt line in use. If needed, save the returned line number for later use.</li>
<li>Call <a class="el" href="group___button_matrix___header.html#gabcfbe7c749f9511e33c3e9b6993ef62c" title="Setup a Pin for a drive line. This function will return the number of the line. The number counts up ...">ButtonMatrix_init_DriveLinePin()</a> for each drive line in use. If needed, save the returned line number for later use.</li>
<li>Set the update frequency with <a class="el" href="group___button_matrix___header.html#ga8c2b7efdf8441aa8bfebf94a2b2617e1" title="Setup the timer threshold for debouncing.">ButtonMatrix_init_TimerThresholdInMs()</a>. A reasonable value would be 5/NumberOfDriveLines to get a read interval of about 5ms for each Key (what is a common debounce time for typical tactile switches). If there is bouncing, increase the value. Be careful that it does not get to slow to detect fast button pushes.</li>
<li>Call buttonMatrix_start() once to start the matrix.</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>It is recommended to setup an object of <a class="el" href="structbutton_matrix___coordinates___td.html" title="Structure to store coordinates to a button.">buttonMatrix_Coordinates_Td</a> type for each button with coordinates that fit the individual hardware setup. That makes it easy to handle the buttons and get the states of them. </dd></dl>
</td></tr>
<tr class="memitem:gad2232d608028526f36adb03ab41fe57a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#gad2232d608028526f36adb03ab41fe57a">ButtonMatrix_init_Structure</a> (<a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *buttonMatrix)</td></tr>
<tr class="memdesc:gad2232d608028526f36adb03ab41fe57a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set values of the structure to required start values.  <br /></td></tr>
<tr class="separator:gad2232d608028526f36adb03ab41fe57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb168e4c7e7a9e6f52e13d221186941e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#gafb168e4c7e7a9e6f52e13d221186941e">ButtonMatrix_init_InterruptLinePin</a> (<a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *buttonMatrix, GPIO_TypeDef *GPIOint, uint16_t pinInt)</td></tr>
<tr class="memdesc:gafb168e4c7e7a9e6f52e13d221186941e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup a Pin for an interrupt line. This function will return the number of the line. The number counts up internal and starts at 0 (for the first initialized Pin).  <br /></td></tr>
<tr class="separator:gafb168e4c7e7a9e6f52e13d221186941e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabcfbe7c749f9511e33c3e9b6993ef62c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#gabcfbe7c749f9511e33c3e9b6993ef62c">ButtonMatrix_init_DriveLinePin</a> (<a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *buttonMatrix, GPIO_TypeDef *GPIOdrv, uint16_t pinDrv)</td></tr>
<tr class="memdesc:gabcfbe7c749f9511e33c3e9b6993ef62c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup a Pin for a drive line. This function will return the number of the line. The number counts up internal and starts at 0 (for the first initialized Pin).  <br /></td></tr>
<tr class="separator:gabcfbe7c749f9511e33c3e9b6993ef62c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c2b7efdf8441aa8bfebf94a2b2617e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#ga8c2b7efdf8441aa8bfebf94a2b2617e1">ButtonMatrix_init_TimerThresholdInMs</a> (<a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *buttonMatrix, uint16_t timThresh)</td></tr>
<tr class="memdesc:ga8c2b7efdf8441aa8bfebf94a2b2617e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the timer threshold for debouncing.  <br /></td></tr>
<tr class="separator:ga8c2b7efdf8441aa8bfebf94a2b2617e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d942643ced3dc7027779617a3b42f8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#ga8d942643ced3dc7027779617a3b42f8c">ButtonMatrix_start</a> (<a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *buttonMatrix)</td></tr>
<tr class="memdesc:ga8d942643ced3dc7027779617a3b42f8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to start the button matrix.  <br /></td></tr>
<tr class="separator:ga8d942643ced3dc7027779617a3b42f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Interrupt Management</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="InterruptManagement"></a></p><dl class="section note"><dt>Note</dt><dd>This function has to be called in the interrupt service routine. This is an example with STM32 HAL: <pre class="fragment">                    @code
                    void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin)
                    {
                      ButtonMatrix_manage_Interrupt(&amp;UserButtonMatrix, GPIO_Pin);
                    }
                    @endcode
</pre> </dd></dl>
</td></tr>
<tr class="memitem:gaa0f14192ec546f89d5abbdeeead55255"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#gaa0f14192ec546f89d5abbdeeead55255">ButtonMatrix_manage_Interrupt</a> (<a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *buttonMatrix, uint16_t GPIO_Pin)</td></tr>
<tr class="memdesc:gaa0f14192ec546f89d5abbdeeead55255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag interrupted Pins.  <br /></td></tr>
<tr class="separator:gaa0f14192ec546f89d5abbdeeead55255"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Update Button Matrix</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="UpdateMatrix"></a> Call this function periodically to pull the Button Matrix. This Function is not blocking, as it uses a non blocking timer and only starts to process, if the timer is elapsed and an interrupt is detected. If this function is not called often enough, the stability may suffer. Try to avoid other blocking program elements. </p>
</td></tr>
<tr class="memitem:ga0dfeb84f4010414af0cc3eda7098cb5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#ga0dfeb84f4010414af0cc3eda7098cb5a">ButtonMatrix_update</a> (<a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *buttonMatrix)</td></tr>
<tr class="memdesc:ga0dfeb84f4010414af0cc3eda7098cb5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function to update the button matrix.  <br /></td></tr>
<tr class="separator:ga0dfeb84f4010414af0cc3eda7098cb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Get Button States</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to read states of specific buttons in the matrix.</p>
<p><a class="anchor" id="GetStates"></a></p>
</td></tr>
<tr class="memitem:ga73586ffd3cbe74e3e72be5cf7319b025"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#ga73586ffd3cbe74e3e72be5cf7319b025">ButtonMatrix_check_ButtonPushed</a> (<a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *buttonMatrix, <a class="el" href="structbutton_matrix___coordinates___td.html">buttonMatrix_Coordinates_Td</a> *buttonName)</td></tr>
<tr class="memdesc:ga73586ffd3cbe74e3e72be5cf7319b025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a specific button is pushed.  <br /></td></tr>
<tr class="separator:ga73586ffd3cbe74e3e72be5cf7319b025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4b4f2d2f1493269a0ffed09a01ae1ea"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___button_matrix___header.html#gac4b4f2d2f1493269a0ffed09a01ae1ea">ButtonMatrix_get_ButtonStatesRegisterOnInterruptLine</a> (<a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *buttonMatrix, uint16_t posIntLine)</td></tr>
<tr class="memdesc:gac4b4f2d2f1493269a0ffed09a01ae1ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a register that describes each buttons stat on a specific interrupt line.  <br /></td></tr>
<tr class="separator:gac4b4f2d2f1493269a0ffed09a01ae1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Study this module if you just want to use the button matrix functions. </p>
<dl class="section note"><dt>Note</dt><dd>As default, stm32f1xx_hal.h is included in this file. If you want to use this module with an other STM32 Microcontroller that does not belong to the f1xx line, please replace this include with the file for your model. </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga2a68885cfffb8cb7eab4379babc304be" name="ga2a68885cfffb8cb7eab4379babc304be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a68885cfffb8cb7eab4379babc304be">&#9670;&#160;</a></span>BUTTON_MATRIX_MAX_INTERRUPT_LINES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUTTON_MATRIX_MAX_INTERRUPT_LINES&#160;&#160;&#160;16U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max Number 16, because STM32 M3 Controllers usually have 16 GPIO EXTI-lines. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gad8478777f78978a1397daf2cdc4c2121" name="gad8478777f78978a1397daf2cdc4c2121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad8478777f78978a1397daf2cdc4c2121">&#9670;&#160;</a></span>buttonMatrix_Coordinates_Td</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structbutton_matrix___coordinates___td.html">buttonMatrix_Coordinates_Td</a> <a class="el" href="structbutton_matrix___coordinates___td.html">buttonMatrix_Coordinates_Td</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure to store coordinates to a button. </p>
<p>This structure used to setup buttons on user side. It's needed to get the state of a specific button. It is recommended to setup one object of this type for each button according to the users hardware setup. </p>

</div>
</div>
<a id="ga7953036b1213ed5b2b8786b0c882aa00" name="ga7953036b1213ed5b2b8786b0c882aa00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7953036b1213ed5b2b8786b0c882aa00">&#9670;&#160;</a></span>buttonMatrix_init_Td</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structbutton_matrix__init___td.html">buttonMatrix_init_Td</a> <a class="el" href="structbutton_matrix__init___td.html">buttonMatrix_init_Td</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure to store the initialization values. </p>
<dl class="section note"><dt>Note</dt><dd>GPIO_TypeDef is part of STM's HAL </dd></dl>

</div>
</div>
<a id="gadbbdcf6696963db7f2cfd30753f2966c" name="gadbbdcf6696963db7f2cfd30753f2966c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadbbdcf6696963db7f2cfd30753f2966c">&#9670;&#160;</a></span>buttonMatrix_structTd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> <a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main Button Matrix Structure. </p>
<dl class="section note"><dt>Note</dt><dd>The user has to declare an object of this structure to work with it. It contains all relevant data and states. Initializations will also be stored here. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gabdb8895c889573f8e6bb56ba62be1ea9" name="gabdb8895c889573f8e6bb56ba62be1ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabdb8895c889573f8e6bb56ba62be1ea9">&#9670;&#160;</a></span>buttonMatrix_lines_enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___button_matrix___header.html#gabdb8895c889573f8e6bb56ba62be1ea9">buttonMatrix_lines_enum</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a118610d8328c40bad0691291b2fddd1a" name="ggabdb8895c889573f8e6bb56ba62be1ea9a118610d8328c40bad0691291b2fddd1a"></a>BUTTON_MATRIX_INT_0&#160;</td><td class="fielddoc"><p>Interrupt Line 0 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9aa86660b0fe5622fa61c859bfce94faf5" name="ggabdb8895c889573f8e6bb56ba62be1ea9aa86660b0fe5622fa61c859bfce94faf5"></a>BUTTON_MATRIX_INT_1&#160;</td><td class="fielddoc"><p>Interrupt Line 1 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a0afa49e3730408be64369491a189f6b3" name="ggabdb8895c889573f8e6bb56ba62be1ea9a0afa49e3730408be64369491a189f6b3"></a>BUTTON_MATRIX_INT_2&#160;</td><td class="fielddoc"><p>Interrupt Line 2 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9aa6bfb0d0b290c28da4f14c5d17a2e9c0" name="ggabdb8895c889573f8e6bb56ba62be1ea9aa6bfb0d0b290c28da4f14c5d17a2e9c0"></a>BUTTON_MATRIX_INT_3&#160;</td><td class="fielddoc"><p>Interrupt Line 3 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a61de0a126c3acf4538854af16ce5298e" name="ggabdb8895c889573f8e6bb56ba62be1ea9a61de0a126c3acf4538854af16ce5298e"></a>BUTTON_MATRIX_INT_4&#160;</td><td class="fielddoc"><p>Interrupt Line 4 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a4fcb566230bc27728fd18fd55c4f39d7" name="ggabdb8895c889573f8e6bb56ba62be1ea9a4fcb566230bc27728fd18fd55c4f39d7"></a>BUTTON_MATRIX_INT_5&#160;</td><td class="fielddoc"><p>Interrupt Line 5 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9ac5b91d99c9d5373c92d303868d7e3af6" name="ggabdb8895c889573f8e6bb56ba62be1ea9ac5b91d99c9d5373c92d303868d7e3af6"></a>BUTTON_MATRIX_INT_6&#160;</td><td class="fielddoc"><p>Interrupt Line 6 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9ad75c42110943d2871689475e9c51f610" name="ggabdb8895c889573f8e6bb56ba62be1ea9ad75c42110943d2871689475e9c51f610"></a>BUTTON_MATRIX_INT_7&#160;</td><td class="fielddoc"><p>Interrupt Line 7 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9adbebee681112be097a34ce785a39e65b" name="ggabdb8895c889573f8e6bb56ba62be1ea9adbebee681112be097a34ce785a39e65b"></a>BUTTON_MATRIX_INT_8&#160;</td><td class="fielddoc"><p>Interrupt Line 8 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a3606d00feef726445a24fd0b5a68d066" name="ggabdb8895c889573f8e6bb56ba62be1ea9a3606d00feef726445a24fd0b5a68d066"></a>BUTTON_MATRIX_INT_9&#160;</td><td class="fielddoc"><p>Interrupt Line 9 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a3215652b2a1329bf54070d8a28c980bc" name="ggabdb8895c889573f8e6bb56ba62be1ea9a3215652b2a1329bf54070d8a28c980bc"></a>BUTTON_MATRIX_INT_10&#160;</td><td class="fielddoc"><p>Interrupt Line 10 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a73049ec615f5324eafe2054ee235b593" name="ggabdb8895c889573f8e6bb56ba62be1ea9a73049ec615f5324eafe2054ee235b593"></a>BUTTON_MATRIX_INT_11&#160;</td><td class="fielddoc"><p>Interrupt Line 11 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a5de84e4c6696ff19160449104312107f" name="ggabdb8895c889573f8e6bb56ba62be1ea9a5de84e4c6696ff19160449104312107f"></a>BUTTON_MATRIX_INT_12&#160;</td><td class="fielddoc"><p>Interrupt Line 12 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9afe0b857c3ed2dde502e801c844f23943" name="ggabdb8895c889573f8e6bb56ba62be1ea9afe0b857c3ed2dde502e801c844f23943"></a>BUTTON_MATRIX_INT_13&#160;</td><td class="fielddoc"><p>Interrupt Line 13 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9ac03c6ad629985860d8ed2707b0e7325c" name="ggabdb8895c889573f8e6bb56ba62be1ea9ac03c6ad629985860d8ed2707b0e7325c"></a>BUTTON_MATRIX_INT_14&#160;</td><td class="fielddoc"><p>Interrupt Line 14 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a592caca8ec17254576b60f233863ed28" name="ggabdb8895c889573f8e6bb56ba62be1ea9a592caca8ec17254576b60f233863ed28"></a>BUTTON_MATRIX_INT_15&#160;</td><td class="fielddoc"><p>Interrupt Line 15 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9aeeec8920557ed0f538a2e58e525d52d3" name="ggabdb8895c889573f8e6bb56ba62be1ea9aeeec8920557ed0f538a2e58e525d52d3"></a>BUTTON_MATRIX_DRV_0&#160;</td><td class="fielddoc"><p>Drive Line 0 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a68a1fd0f67f7b36c4d60738c4f445038" name="ggabdb8895c889573f8e6bb56ba62be1ea9a68a1fd0f67f7b36c4d60738c4f445038"></a>BUTTON_MATRIX_DRV_1&#160;</td><td class="fielddoc"><p>Drive Line 1 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9ab9e4b18a5b114d93419e08a7d60f615e" name="ggabdb8895c889573f8e6bb56ba62be1ea9ab9e4b18a5b114d93419e08a7d60f615e"></a>BUTTON_MATRIX_DRV_2&#160;</td><td class="fielddoc"><p>Drive Line 2 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a553713ff2bab1ff03c89c49cd304e914" name="ggabdb8895c889573f8e6bb56ba62be1ea9a553713ff2bab1ff03c89c49cd304e914"></a>BUTTON_MATRIX_DRV_3&#160;</td><td class="fielddoc"><p>Drive Line 3 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9ad7af46093167ab27d8771b6d77e3a19e" name="ggabdb8895c889573f8e6bb56ba62be1ea9ad7af46093167ab27d8771b6d77e3a19e"></a>BUTTON_MATRIX_DRV_4&#160;</td><td class="fielddoc"><p>Drive Line 4 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a33a5d260c48a7d77f406c1dc3859ae47" name="ggabdb8895c889573f8e6bb56ba62be1ea9a33a5d260c48a7d77f406c1dc3859ae47"></a>BUTTON_MATRIX_DRV_5&#160;</td><td class="fielddoc"><p>Drive Line 5 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a0c44edc3664206397763132459faaf79" name="ggabdb8895c889573f8e6bb56ba62be1ea9a0c44edc3664206397763132459faaf79"></a>BUTTON_MATRIX_DRV_6&#160;</td><td class="fielddoc"><p>Drive Line 6 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a8d10a4b7460f7315ac928e35c30d1588" name="ggabdb8895c889573f8e6bb56ba62be1ea9a8d10a4b7460f7315ac928e35c30d1588"></a>BUTTON_MATRIX_DRV_7&#160;</td><td class="fielddoc"><p>Drive Line 7 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a1d049a9553506be89148017cc9c9b3ee" name="ggabdb8895c889573f8e6bb56ba62be1ea9a1d049a9553506be89148017cc9c9b3ee"></a>BUTTON_MATRIX_DRV_8&#160;</td><td class="fielddoc"><p>Drive Line 8 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9aca9fc598020d6370075e2e75c777d145" name="ggabdb8895c889573f8e6bb56ba62be1ea9aca9fc598020d6370075e2e75c777d145"></a>BUTTON_MATRIX_DRV_9&#160;</td><td class="fielddoc"><p>Drive Line 9 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9ac50d1b29a13da4b6db77d2a03da5626d" name="ggabdb8895c889573f8e6bb56ba62be1ea9ac50d1b29a13da4b6db77d2a03da5626d"></a>BUTTON_MATRIX_DRV_10&#160;</td><td class="fielddoc"><p>Drive Line 10 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a18c3283cf5e299b7b7dfdd6c552c23d1" name="ggabdb8895c889573f8e6bb56ba62be1ea9a18c3283cf5e299b7b7dfdd6c552c23d1"></a>BUTTON_MATRIX_DRV_11&#160;</td><td class="fielddoc"><p>Drive Line 11 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a875f60d951e7c65ecb6564fe5a13c9f8" name="ggabdb8895c889573f8e6bb56ba62be1ea9a875f60d951e7c65ecb6564fe5a13c9f8"></a>BUTTON_MATRIX_DRV_12&#160;</td><td class="fielddoc"><p>Drive Line 12 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a1b03744952bef3e05f0335df77c4ef6f" name="ggabdb8895c889573f8e6bb56ba62be1ea9a1b03744952bef3e05f0335df77c4ef6f"></a>BUTTON_MATRIX_DRV_13&#160;</td><td class="fielddoc"><p>Drive Line 13 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9a86759bb90d8d89fd8be03b94353aae1d" name="ggabdb8895c889573f8e6bb56ba62be1ea9a86759bb90d8d89fd8be03b94353aae1d"></a>BUTTON_MATRIX_DRV_14&#160;</td><td class="fielddoc"><p>Drive Line 14 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggabdb8895c889573f8e6bb56ba62be1ea9ae2669dfc92f743ea9a29f43cde8810f3" name="ggabdb8895c889573f8e6bb56ba62be1ea9ae2669dfc92f743ea9a29f43cde8810f3"></a>BUTTON_MATRIX_DRV_15&#160;</td><td class="fielddoc"><p>Drive Line 15 </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga73586ffd3cbe74e3e72be5cf7319b025" name="ga73586ffd3cbe74e3e72be5cf7319b025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73586ffd3cbe74e3e72be5cf7319b025">&#9670;&#160;</a></span>ButtonMatrix_check_ButtonPushed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ButtonMatrix_check_ButtonPushed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *&#160;</td>
          <td class="paramname"><em>buttonMatrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbutton_matrix___coordinates___td.html">buttonMatrix_Coordinates_Td</a> *&#160;</td>
          <td class="paramname"><em>buttonName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a specific button is pushed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonMatrix</td><td>Pointer to the structure of the button matrix setup by the user </td></tr>
    <tr><td class="paramname">buttonName</td><td>Object of <a class="el" href="structbutton_matrix___coordinates___td.html" title="Structure to store coordinates to a button.">buttonMatrix_Coordinates_Td</a> type, that stores the coordinates of the specific button. Setup by user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the button is pushed, false if not. </dd></dl>

</div>
</div>
<a id="gac4b4f2d2f1493269a0ffed09a01ae1ea" name="gac4b4f2d2f1493269a0ffed09a01ae1ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac4b4f2d2f1493269a0ffed09a01ae1ea">&#9670;&#160;</a></span>ButtonMatrix_get_ButtonStatesRegisterOnInterruptLine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ButtonMatrix_get_ButtonStatesRegisterOnInterruptLine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *&#160;</td>
          <td class="paramname"><em>buttonMatrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>posIntLine</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a register that describes each buttons stat on a specific interrupt line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonMatrix</td><td>Pointer to the structure of the button matrix setup by the user </td></tr>
    <tr><td class="paramname">posIntLine</td><td>The number of the relevant interrupt line. Use the number that was returned by <a class="el" href="group___button_matrix___header.html#gafb168e4c7e7a9e6f52e13d221186941e" title="Setup a Pin for an interrupt line. This function will return the number of the line....">ButtonMatrix_init_InterruptLinePin()</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabcfbe7c749f9511e33c3e9b6993ef62c" name="gabcfbe7c749f9511e33c3e9b6993ef62c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabcfbe7c749f9511e33c3e9b6993ef62c">&#9670;&#160;</a></span>ButtonMatrix_init_DriveLinePin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ButtonMatrix_init_DriveLinePin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *&#160;</td>
          <td class="paramname"><em>buttonMatrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_TypeDef *&#160;</td>
          <td class="paramname"><em>GPIOdrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>pinDrv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup a Pin for a drive line. This function will return the number of the line. The number counts up internal and starts at 0 (for the first initialized Pin). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonMatrix</td><td>Pointer to the structure of the button matrix setup by the user </td></tr>
    <tr><td class="paramname">GPIOint</td><td>Pointer to the drive output GPIO Port </td></tr>
    <tr><td class="paramname">pinInt</td><td>Register value of the drive Pin (as given from reference manual or HAL)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Drive Line Number </dd></dl>

</div>
</div>
<a id="gafb168e4c7e7a9e6f52e13d221186941e" name="gafb168e4c7e7a9e6f52e13d221186941e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb168e4c7e7a9e6f52e13d221186941e">&#9670;&#160;</a></span>ButtonMatrix_init_InterruptLinePin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ButtonMatrix_init_InterruptLinePin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *&#160;</td>
          <td class="paramname"><em>buttonMatrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_TypeDef *&#160;</td>
          <td class="paramname"><em>GPIOint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>pinInt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup a Pin for an interrupt line. This function will return the number of the line. The number counts up internal and starts at 0 (for the first initialized Pin). </p>
<dl class="section note"><dt>Note</dt><dd>Activate internal pull-ups of the microcontroller if no external ones are used. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The Interrupt has to occure on <b>falling edge</b> as we work with LOW-active signals!</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonMatrix</td><td>Pointer to the structure of the button matrix setup by the user </td></tr>
    <tr><td class="paramname">GPIOint</td><td>Pointer to the interrupt enabled GPIO Port </td></tr>
    <tr><td class="paramname">pinInt</td><td>Register value of the interrupt Pin (as given from reference manual or HAL)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Interrupt Line Number </dd></dl>

</div>
</div>
<a id="gad2232d608028526f36adb03ab41fe57a" name="gad2232d608028526f36adb03ab41fe57a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2232d608028526f36adb03ab41fe57a">&#9670;&#160;</a></span>ButtonMatrix_init_Structure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ButtonMatrix_init_Structure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *&#160;</td>
          <td class="paramname"><em>buttonMatrix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set values of the structure to required start values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonMatrix</td><td>Pointer to the structure of the button matrix setup by the user</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga8c2b7efdf8441aa8bfebf94a2b2617e1" name="ga8c2b7efdf8441aa8bfebf94a2b2617e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c2b7efdf8441aa8bfebf94a2b2617e1">&#9670;&#160;</a></span>ButtonMatrix_init_TimerThresholdInMs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ButtonMatrix_init_TimerThresholdInMs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *&#160;</td>
          <td class="paramname"><em>buttonMatrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timThresh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the timer threshold for debouncing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonMatrix</td><td>Pointer to the structure of the button matrix setup by the user </td></tr>
    <tr><td class="paramname">timThresh</td><td>Threshold time in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="gaa0f14192ec546f89d5abbdeeead55255" name="gaa0f14192ec546f89d5abbdeeead55255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0f14192ec546f89d5abbdeeead55255">&#9670;&#160;</a></span>ButtonMatrix_manage_Interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ButtonMatrix_manage_Interrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *&#160;</td>
          <td class="paramname"><em>buttonMatrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>GPIO_Pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag interrupted Pins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonMatrix</td><td>Pointer to the structure of the button matrix setup by the user </td></tr>
    <tr><td class="paramname">GPIO_Pin</td><td>The pin where the interrupt is detected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>Set the register for interrupted GPIOS with bitwise OR.</p>

</div>
</div>
<a id="ga8d942643ced3dc7027779617a3b42f8c" name="ga8d942643ced3dc7027779617a3b42f8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d942643ced3dc7027779617a3b42f8c">&#9670;&#160;</a></span>ButtonMatrix_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ButtonMatrix_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *&#160;</td>
          <td class="paramname"><em>buttonMatrix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to start the button matrix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonMatrix</td><td>Pointer to the structure of the button matrix setup by the user</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. Reset all drive pins</p>
<p>2. Reset all button states</p>
<p>3. Setup relevant digits on the interrupt bit register</p>

</div>
</div>
<a id="ga0dfeb84f4010414af0cc3eda7098cb5a" name="ga0dfeb84f4010414af0cc3eda7098cb5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0dfeb84f4010414af0cc3eda7098cb5a">&#9670;&#160;</a></span>ButtonMatrix_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ButtonMatrix_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbutton_matrix__struct_td.html">buttonMatrix_structTd</a> *&#160;</td>
          <td class="paramname"><em>buttonMatrix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function to update the button matrix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonMatrix</td><td>Pointer to the structure of the button matrix setup by the user </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none TODO: Add Ret true if matrix is active. This can be used to mark if the user should fetch new states. </dd></dl>
<p>1. check if the debounce timer is elapsed.</p><ul>
<li>if not: leave function</li>
</ul>
<p>2. check if the matrix is in read mode</p><ul>
<li>if not: check for interrupt and enter read mode if an interrupt is detected.</li>
</ul>
<p>3. check again if the matrix is in read mode</p><ul>
<li>if not: leave function</li>
</ul>
<p>4. Read the button states on the active drive line (according to the buttonMatrix_Td structure)</p>
<p>5. check if all drive lines were processed</p><ul>
<li>if not: count active drive line up and leave function.</li>
</ul>
<p>6. Manage interrupt lines: get the active interrupt lines and deactivate every line, that is not active anymore.</p>
<p>7. check if any button still is pushed</p><ul>
<li>if not: reset drive pins and leave read mode</li>
</ul>
<p>8. Count up the active drive line in <a class="el" href="structbutton_matrix__struct_td.html" title="Main Button Matrix Structure.">buttonMatrix_structTd</a> structure and leave function</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
