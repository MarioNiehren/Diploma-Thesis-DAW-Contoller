<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Manual for Developing a DAW-Controller: Software Demo Projects: Source</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mdw_Logo_weiss.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">Manual for Developing a DAW-Controller: Software Demo Projects<span id="projectnumber">&#160;Demo Project</span>
   </div>
   <div id="projectbrief">This is the software module that contains demo projects for the deploma thesis: &quot;Handbuch zur Entwicklung eines DAW-Controllers&quot; (Eng: Manual for Developing a DAW-Controller).</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___motor_fader___source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Source<div class="ingroups"><a class="el" href="group___motor_fader.html">Motorized Fader</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Study this part for a details.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:motorized_fader_8c" id="r_motorized_fader_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="motorized_fader_8c.html">motorizedFader.c</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_motorized_fader__internal__struct_td.html">MotorizedFader_internal_structTd</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaf6e72a19b98ef30e36f2e4c02de7c3a3" id="r_gaf6e72a19b98ef30e36f2e4c02de7c3a3"><td class="memItemLeft" align="right" valign="top"><a id="gaf6e72a19b98ef30e36f2e4c02de7c3a3" name="gaf6e72a19b98ef30e36f2e4c02de7c3a3"></a>
<a class="el" href="struct_motorized_fader__internal__struct_td.html">MotorizedFader_internal_structTd</a>&#160;</td><td class="memItemRight" valign="bottom"><b>FadersInternal</b> = {0}</td></tr>
<tr class="separator:gaf6e72a19b98ef30e36f2e4c02de7c3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Initialize Fader</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to initialize the faders internal structure. </p>
</td></tr>
<tr class="memitem:gab68de15bad1210ec835765bcdd319433" id="r_gab68de15bad1210ec835765bcdd319433"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab68de15bad1210ec835765bcdd319433">MotorizedFader_init_Structure</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader)</td></tr>
<tr class="memdesc:gab68de15bad1210ec835765bcdd319433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the Fader to the internal structure for internal use.  <br /></td></tr>
<tr class="separator:gab68de15bad1210ec835765bcdd319433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga273d5d0c65a9806145ca5f7c4ee79888" id="r_ga273d5d0c65a9806145ca5f7c4ee79888"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga273d5d0c65a9806145ca5f7c4ee79888">MotorizedFader_init_StartForce</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, int CCR)</td></tr>
<tr class="memdesc:ga273d5d0c65a9806145ca5f7c4ee79888"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the start force the fader needs to start moving. To find the CCR value needed to move the motor, you can use <a class="el" href="group___t_b6612_f_n_g___header.html#gad6ba3bdbc2281be71a73f045adeb2195" title="Call this function to move the motor clock wise. The speed is controlled by the CCR (Capture Compare ...">MotorDriver_move_ClockWise()</a> with the &amp;Fader-&gt;Motor and increase the CCR until the fader starts moving up. Sometimes trial and error will also lead to a working value.  <br /></td></tr>
<tr class="separator:ga273d5d0c65a9806145ca5f7c4ee79888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cc201b68ed12f7e9e4a2dd37039a72d" id="r_ga7cc201b68ed12f7e9e4a2dd37039a72d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7cc201b68ed12f7e9e4a2dd37039a72d">MotorizedFader_init_StopRange</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, int CCR)</td></tr>
<tr class="memdesc:ga7cc201b68ed12f7e9e4a2dd37039a72d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a CCR Range, where the motor will not move. This is required to avoid resonating around the target value. Resonating is caused because the fader will always move at least with the start force. As the ADC value will never be completely stable and reached on point, the fader would always try to correct. This stop range is a simple approach to resolve this problem.  <br /></td></tr>
<tr class="separator:ga7cc201b68ed12f7e9e4a2dd37039a72d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Initialize Wiper</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to initialize the faders wiper. </p>
</td></tr>
<tr class="memitem:gad80274af9a746926c0030f1e4e00688f" id="r_gad80274af9a746926c0030f1e4e00688f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad80274af9a746926c0030f1e4e00688f">MotorizedFader_init_Wiper</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, ADC_HandleTypeDef *Handle)</td></tr>
<tr class="memdesc:gad80274af9a746926c0030f1e4e00688f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the ADC for the wiper. For details and how to set up ADC please look at the documentation of <a class="el" href="group___wiper___header.html#ga3769a4718f132d3298e7c6a9456667e9" title="Link HAL-ADC-handle used for wiper.">Wiper_init_ADC()</a>.  <br /></td></tr>
<tr class="separator:gad80274af9a746926c0030f1e4e00688f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Initialize Touch Sense Controller</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to initialize the faders TSC. </p>
</td></tr>
<tr class="memitem:ga5baa698889287cd04250271d47bc827c" id="r_ga5baa698889287cd04250271d47bc827c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5baa698889287cd04250271d47bc827c">MotorizedFader_init_TouchTSC</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *fader, TSC_HandleTypeDef *htsc, uint32_t IOChannel)</td></tr>
<tr class="memdesc:ga5baa698889287cd04250271d47bc827c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the touch sense controller for the touch line. For details and how to setup TSC please look at the documentation of <a class="el" href="group___t_s_c_button___header.html#gadea3910a50802013c61688c34af42b2a" title="Link the htsc handler to this module and specify the IO Channel. All Buttons have to be initialized b...">TSCButton_init_TSC()</a>.  <br /></td></tr>
<tr class="separator:ga5baa698889287cd04250271d47bc827c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga875be11d7ac3ebf4a78a0203b313cdbe" id="r_ga875be11d7ac3ebf4a78a0203b313cdbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga875be11d7ac3ebf4a78a0203b313cdbe">MotorizedFader_init_TouchThreshold</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *fader, uint16_t threshold)</td></tr>
<tr class="memdesc:ga875be11d7ac3ebf4a78a0203b313cdbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the threshold value where the touch line will change between touched and released. For details please look at the documentation of <a class="el" href="group___t_s_c_button___header.html#gac563acc8b2838373da3cf6dee8127810" title="Setup the threshold where the TSC button will toggle between touched and released.">TSCButton_init_Threshold()</a>.  <br /></td></tr>
<tr class="separator:ga875be11d7ac3ebf4a78a0203b313cdbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46f4e997284c776f9cc6fa3eaaca694b" id="r_ga46f4e997284c776f9cc6fa3eaaca694b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga46f4e997284c776f9cc6fa3eaaca694b">MotorizedFader_init_TouchDischargeTimeMsAll</a> (uint8_t value)</td></tr>
<tr class="memdesc:ga46f4e997284c776f9cc6fa3eaaca694b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the discharge time for the sample capacitor of the TSC group. This value is used fop all TSC sample capacitors and all faders. Only initialize this once for all. For details please look at the documentation of <a class="el" href="group___t_s_c_button___header.html#gaf706cac3ee0be2f3f1770d87953f2c03" title="Setup the discharge time in ms, that is required to discharge the sensing capacitor....">TSCButton_init_DischargeTimeMsAll()</a>.  <br /></td></tr>
<tr class="separator:ga46f4e997284c776f9cc6fa3eaaca694b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Initialize Motor</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to initialize the faders TSC. </p>
</td></tr>
<tr class="memitem:ga4e3cf4b4384fae0bfbb307f5ee3386c0" id="r_ga4e3cf4b4384fae0bfbb307f5ee3386c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4e3cf4b4384fae0bfbb307f5ee3386c0">MotorizedFader_init_MotorPinIn1</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, GPIO_TypeDef *GPIO, uint16_t Pin)</td></tr>
<tr class="memdesc:ga4e3cf4b4384fae0bfbb307f5ee3386c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link Pin In1 for the Motor Driver. For details please look at the documentation of <a class="el" href="group___t_b6612_f_n_g___header.html#ga877ef4a7ed2cca5408282f422ad2c713" title="Link the GPIO Port and Pin used for IN1 of the device. This pin has to be an output,...">MotorDriver_init_PinIn1()</a>.  <br /></td></tr>
<tr class="separator:ga4e3cf4b4384fae0bfbb307f5ee3386c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe744f9ad2f113d732632f4865f12afe" id="r_gafe744f9ad2f113d732632f4865f12afe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafe744f9ad2f113d732632f4865f12afe">MotorizedFader_init_MotorPinIn2</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, GPIO_TypeDef *GPIO, uint16_t Pin)</td></tr>
<tr class="memdesc:gafe744f9ad2f113d732632f4865f12afe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link Pin In2 for the Motor Driver. For details please look at the documentation of <a class="el" href="group___t_b6612_f_n_g___header.html#ga59bd3def8b94017caf0679ecdb3655db" title="Link the GPIO Port and Pin used for IN2 of the device. This pin has to be an output,...">MotorDriver_init_PinIn2()</a>.  <br /></td></tr>
<tr class="separator:gafe744f9ad2f113d732632f4865f12afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga486e0b44341a0f6e98fbc265787e59b7" id="r_ga486e0b44341a0f6e98fbc265787e59b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga486e0b44341a0f6e98fbc265787e59b7">MotorizedFader_init_MotorPinSTBY</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, GPIO_TypeDef *GPIO, uint16_t Pin)</td></tr>
<tr class="memdesc:ga486e0b44341a0f6e98fbc265787e59b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link Pin STBY for the Motor Driver. For details please look at the documentation of MotorDriver_init_PinInSTBY().  <br /></td></tr>
<tr class="separator:ga486e0b44341a0f6e98fbc265787e59b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabda87f9cb0f5243cc31f0004b1ff7447" id="r_gabda87f9cb0f5243cc31f0004b1ff7447"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabda87f9cb0f5243cc31f0004b1ff7447">MotorizedFader_init_MotorPWM</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, TIM_HandleTypeDef *htim, uint16_t Channel)</td></tr>
<tr class="memdesc:gabda87f9cb0f5243cc31f0004b1ff7447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link PWM used for the Motor Driver. For details and how to setup PWM please look at the documentation of <a class="el" href="group___t_b6612_f_n_g___header.html#ga71f19c831735445aa3ddde0317a5fc37" title="Link the TIM handle and channel used for PWM.">MotorDriver_init_PWM()</a>.  <br /></td></tr>
<tr class="separator:gabda87f9cb0f5243cc31f0004b1ff7447"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Initialize PID</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to initialize the PID controller that controls the motor. </p>
</td></tr>
<tr class="memitem:ga20c5b8d83977cf80a168539daeca8bdc" id="r_ga20c5b8d83977cf80a168539daeca8bdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga20c5b8d83977cf80a168539daeca8bdc">MotorizedFader_init_PID</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader)</td></tr>
<tr class="memdesc:ga20c5b8d83977cf80a168539daeca8bdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the PID structure used by the fader. For details please look at the documentation of <a class="el" href="group___p_i_d___header.html#gabdb58288560a38df669ef0cc63d7963a" title="Initialize the users PID-structure to make sure that the start values are properly set.">PID_init()</a>.  <br /></td></tr>
<tr class="separator:ga20c5b8d83977cf80a168539daeca8bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f15ed1ee6d62c4903e9c165537acb19" id="r_ga4f15ed1ee6d62c4903e9c165537acb19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4f15ed1ee6d62c4903e9c165537acb19">MotorizedFader_init_PIDMaxCCR</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, uint16_t MaxCCR)</td></tr>
<tr class="memdesc:ga4f15ed1ee6d62c4903e9c165537acb19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize PID Output range For details please look at the documentation of <a class="el" href="group___p_i_d___header.html#ga8a04d72eb5b728ba9c13c3eb686f742d" title="Set the value range for the PID output.">PID_set_OutputMinMax()</a>.  <br /></td></tr>
<tr class="separator:ga4f15ed1ee6d62c4903e9c165537acb19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23cd2d30fd7c4e6869162c953625b3ee" id="r_ga23cd2d30fd7c4e6869162c953625b3ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga23cd2d30fd7c4e6869162c953625b3ee">MotorizedFader_init_PIDKpKiKd</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, double Kp, double Ki, double Kd)</td></tr>
<tr class="memdesc:ga23cd2d30fd7c4e6869162c953625b3ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize PID coefficients for tuning the PIT-Terms. For details please look at the documentation of <a class="el" href="group___p_i_d___header.html#ga5634b3fa2aa53ad46cd0792aba79ee35" title="Set the coefficients for proportional, integral and derivative terms.">PID_set_KpKiKd()</a>.  <br /></td></tr>
<tr class="separator:ga23cd2d30fd7c4e6869162c953625b3ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecc08367c7c6fc646cefa878c6388110" id="r_gaecc08367c7c6fc646cefa878c6388110"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaecc08367c7c6fc646cefa878c6388110">MotorizedFader_init_PIDLowPass</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, double Tau)</td></tr>
<tr class="memdesc:gaecc08367c7c6fc646cefa878c6388110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the low pass for the PID D-Term. For details please look at the documentation of <a class="el" href="group___p_i_d___header.html#gaa8e7bc5b3255d4a17ad220c1e2e1fe43" title="Set tau to tune the low pass used on the D-Term to reduce noise. Increase tau for a lower crossover f...">PID_set_LowPass()</a>.  <br /></td></tr>
<tr class="separator:gaecc08367c7c6fc646cefa878c6388110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe4ccb946b406da01f4b90c9db2e5cf4" id="r_gabe4ccb946b406da01f4b90c9db2e5cf4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabe4ccb946b406da01f4b90c9db2e5cf4">MotorizedFader_init_PIDSampleTimeInMs</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, uint32_t SampleTime)</td></tr>
<tr class="memdesc:gabe4ccb946b406da01f4b90c9db2e5cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the sample to control the PID update frequency. For details please look at the documentation of <a class="el" href="group___p_i_d___header.html#gad02b747382e1b8d2b946b73b29117215" title="Set the sample time to control the update frequency of the PID-controller. Make sure that the program...">PID_set_SampleTimeInMs()</a>.  <br /></td></tr>
<tr class="separator:gabe4ccb946b406da01f4b90c9db2e5cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Process</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to process all faders </p>
</td></tr>
<tr class="memitem:ga6ca42f1cf97193920b9a264dae0cd4d0" id="r_ga6ca42f1cf97193920b9a264dae0cd4d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6ca42f1cf97193920b9a264dae0cd4d0">MotorizedFader_start_All</a> ()</td></tr>
<tr class="memdesc:ga6ca42f1cf97193920b9a264dae0cd4d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function once to start all faders.  <br /></td></tr>
<tr class="separator:ga6ca42f1cf97193920b9a264dae0cd4d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac067ec4bfb065187347817cff67a4483" id="r_gac067ec4bfb065187347817cff67a4483"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac067ec4bfb065187347817cff67a4483">MotorizedFader_update_All</a> ()</td></tr>
<tr class="memdesc:gac067ec4bfb065187347817cff67a4483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function periodically in the main while loop to update all faders.  <br /></td></tr>
<tr class="separator:gac067ec4bfb065187347817cff67a4483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6d1e3a7bcd1f09185cc4125dd22697e" id="r_gac6d1e3a7bcd1f09185cc4125dd22697e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac6d1e3a7bcd1f09185cc4125dd22697e">get_UpdatedPIDOutput</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader)</td></tr>
<tr class="memdesc:gac6d1e3a7bcd1f09185cc4125dd22697e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update PID with the new value.  <br /></td></tr>
<tr class="separator:gac6d1e3a7bcd1f09185cc4125dd22697e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaddb7170a22bb40999cc9b0869ada20d4" id="r_gaddb7170a22bb40999cc9b0869ada20d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaddb7170a22bb40999cc9b0869ada20d4">move_Fader</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, int CCR)</td></tr>
<tr class="memdesc:gaddb7170a22bb40999cc9b0869ada20d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move fader with the new CCR value.  <br /></td></tr>
<tr class="separator:gaddb7170a22bb40999cc9b0869ada20d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2abcc6b1f7bf263dd0b38ce7bbe1a45b" id="r_ga2abcc6b1f7bf263dd0b38ce7bbe1a45b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2abcc6b1f7bf263dd0b38ce7bbe1a45b">MotorizedFader_manage_WiperInterrupt</a> (ADC_HandleTypeDef *hadc)</td></tr>
<tr class="memdesc:ga2abcc6b1f7bf263dd0b38ce7bbe1a45b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function in the HAL ADC interrupt. For details please look at the documentation of <a class="el" href="group___wiper___header.html#ga5e2f11d13d6a2aabb6f4f5cd18a01966" title="Call this function in the HAL-Interrupt handler to set an internal interrupt flag for the wiper modul...">Wiper_manage_Interrupt()</a>.  <br /></td></tr>
<tr class="separator:ga2abcc6b1f7bf263dd0b38ce7bbe1a45b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c3f327024a871801a47eeec92ded07f" id="r_ga3c3f327024a871801a47eeec92ded07f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3c3f327024a871801a47eeec92ded07f">MotorizedFader_manage_TSCInterrupt</a> ()</td></tr>
<tr class="memdesc:ga3c3f327024a871801a47eeec92ded07f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this funciton in the HAL TSC Interrupt For details please look at the documentation of <a class="el" href="group___t_s_c_button___header.html#ga9a0bf2ea0b4d926c1ae1724ae86b24fc" title="Call this function in the HAL-Interrupt handler to set an internal interrupt flag for the TSC module.">TSCButton_manage_Interrupt()</a>.  <br /></td></tr>
<tr class="separator:ga3c3f327024a871801a47eeec92ded07f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Set Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to set values to the fader </p>
</td></tr>
<tr class="memitem:ga8fa9156d709d8e82f48ae78fb2c34e73" id="r_ga8fa9156d709d8e82f48ae78fb2c34e73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8fa9156d709d8e82f48ae78fb2c34e73">MotorizedFader_set_Target</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader, uint16_t Target)</td></tr>
<tr class="memdesc:ga8fa9156d709d8e82f48ae78fb2c34e73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to set a Target value for the fader. It will move to this value automatically.  <br /></td></tr>
<tr class="separator:ga8fa9156d709d8e82f48ae78fb2c34e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Get Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to get values from the fader </p>
</td></tr>
<tr class="memitem:ga592c8f1f9306b7fd683b173a1a0baa4d" id="r_ga592c8f1f9306b7fd683b173a1a0baa4d"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga592c8f1f9306b7fd683b173a1a0baa4d">MotorizedFader_get_WiperValue</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader)</td></tr>
<tr class="memdesc:ga592c8f1f9306b7fd683b173a1a0baa4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to get the wiper value. This value can be used to control something else, e.g. a protocol value to mode a DAW fader.  <br /></td></tr>
<tr class="separator:ga592c8f1f9306b7fd683b173a1a0baa4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4325f63723e3080824ae78c324f344bd" id="r_ga4325f63723e3080824ae78c324f344bd"><td class="memItemLeft" align="right" valign="top">TSCButton_State_enumTd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4325f63723e3080824ae78c324f344bd">MotorizedFader_get_TSCState</a> (<a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *Fader)</td></tr>
<tr class="memdesc:ga4325f63723e3080824ae78c324f344bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to check if a fader is touched or not.  <br /></td></tr>
<tr class="separator:ga4325f63723e3080824ae78c324f344bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Study this part for a details. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac6d1e3a7bcd1f09185cc4125dd22697e" name="gac6d1e3a7bcd1f09185cc4125dd22697e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6d1e3a7bcd1f09185cc4125dd22697e">&#9670;&#160;</a></span>get_UpdatedPIDOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_UpdatedPIDOutput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update PID with the new value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int CCR value calculated by PID </dd></dl>
<p>@intenral 1. Get current ADC sample</p>
<p>2. Update PID with new sample</p>
<p>@intenral 3. Get the round PID outout to return</p>

</div>
</div>
<a id="ga4325f63723e3080824ae78c324f344bd" name="ga4325f63723e3080824ae78c324f344bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4325f63723e3080824ae78c324f344bd">&#9670;&#160;</a></span>MotorizedFader_get_TSCState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSCButton_State_enumTd MotorizedFader_get_TSCState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to check if a fader is touched or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Touch State: TSCBUTTON_TOUCHED or TSCBUTTON_RELEASED </dd></dl>

</div>
</div>
<a id="ga592c8f1f9306b7fd683b173a1a0baa4d" name="ga592c8f1f9306b7fd683b173a1a0baa4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga592c8f1f9306b7fd683b173a1a0baa4d">&#9670;&#160;</a></span>MotorizedFader_get_WiperValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t MotorizedFader_get_WiperValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to get the wiper value. This value can be used to control something else, e.g. a protocol value to mode a DAW fader. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>current ADC value of the wiper </dd></dl>

</div>
</div>
<a id="ga4e3cf4b4384fae0bfbb307f5ee3386c0" name="ga4e3cf4b4384fae0bfbb307f5ee3386c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e3cf4b4384fae0bfbb307f5ee3386c0">&#9670;&#160;</a></span>MotorizedFader_init_MotorPinIn1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_MotorPinIn1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_TypeDef *</td>          <td class="paramname"><span class="paramname"><em>GPIO</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Pin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link Pin In1 for the Motor Driver. For details please look at the documentation of <a class="el" href="group___t_b6612_f_n_g___header.html#ga877ef4a7ed2cca5408282f422ad2c713" title="Link the GPIO Port and Pin used for IN1 of the device. This pin has to be an output,...">MotorDriver_init_PinIn1()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">GPIO</td><td>port of the In 1 Pin </td></tr>
    <tr><td class="paramname">Pin</td><td>number of In 1 @retrun none </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafe744f9ad2f113d732632f4865f12afe" name="gafe744f9ad2f113d732632f4865f12afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe744f9ad2f113d732632f4865f12afe">&#9670;&#160;</a></span>MotorizedFader_init_MotorPinIn2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_MotorPinIn2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_TypeDef *</td>          <td class="paramname"><span class="paramname"><em>GPIO</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Pin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link Pin In2 for the Motor Driver. For details please look at the documentation of <a class="el" href="group___t_b6612_f_n_g___header.html#ga59bd3def8b94017caf0679ecdb3655db" title="Link the GPIO Port and Pin used for IN2 of the device. This pin has to be an output,...">MotorDriver_init_PinIn2()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">GPIO</td><td>port of the In 2 Pin </td></tr>
    <tr><td class="paramname">Pin</td><td>number of In 2 @retrun none </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga486e0b44341a0f6e98fbc265787e59b7" name="ga486e0b44341a0f6e98fbc265787e59b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga486e0b44341a0f6e98fbc265787e59b7">&#9670;&#160;</a></span>MotorizedFader_init_MotorPinSTBY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_MotorPinSTBY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_TypeDef *</td>          <td class="paramname"><span class="paramname"><em>GPIO</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Pin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link Pin STBY for the Motor Driver. For details please look at the documentation of MotorDriver_init_PinInSTBY(). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">GPIO</td><td>port of the In STBY Pin </td></tr>
    <tr><td class="paramname">Pin</td><td>number of In STBY @retrun none </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabda87f9cb0f5243cc31f0004b1ff7447" name="gabda87f9cb0f5243cc31f0004b1ff7447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabda87f9cb0f5243cc31f0004b1ff7447">&#9670;&#160;</a></span>MotorizedFader_init_MotorPWM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_MotorPWM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TIM_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>htim</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Channel</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link PWM used for the Motor Driver. For details and how to setup PWM please look at the documentation of <a class="el" href="group___t_b6612_f_n_g___header.html#ga71f19c831735445aa3ddde0317a5fc37" title="Link the TIM handle and channel used for PWM.">MotorDriver_init_PWM()</a>. </p>
<dl class="section note"><dt>Note</dt><dd>For a very quick PWM explanation, please look at <a class="el" href="group___t_b6612_f_n_g.html#PWM_Quick_Explanation">this explanation</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">htim</td><td>pointer to the HAL-handle for the timer used for PWM </td></tr>
    <tr><td class="paramname">Channel</td><td>of the timer used for PWM. Use the HAL-defines. They have the following format: TIM_CHANNEL_x, where x is the channel number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga20c5b8d83977cf80a168539daeca8bdc" name="ga20c5b8d83977cf80a168539daeca8bdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20c5b8d83977cf80a168539daeca8bdc">&#9670;&#160;</a></span>MotorizedFader_init_PID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_PID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the PID structure used by the fader. For details please look at the documentation of <a class="el" href="group___p_i_d___header.html#gabdb58288560a38df669ef0cc63d7963a" title="Initialize the users PID-structure to make sure that the start values are properly set.">PID_init()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga23cd2d30fd7c4e6869162c953625b3ee" name="ga23cd2d30fd7c4e6869162c953625b3ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23cd2d30fd7c4e6869162c953625b3ee">&#9670;&#160;</a></span>MotorizedFader_init_PIDKpKiKd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_PIDKpKiKd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>Kp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>Ki</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>Kd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize PID coefficients for tuning the PIT-Terms. For details please look at the documentation of <a class="el" href="group___p_i_d___header.html#ga5634b3fa2aa53ad46cd0792aba79ee35" title="Set the coefficients for proportional, integral and derivative terms.">PID_set_KpKiKd()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">Kp</td><td>coefficient for the proportional term </td></tr>
    <tr><td class="paramname">Ki</td><td>coefficient for the integral term </td></tr>
    <tr><td class="paramname">Kd</td><td>coefficient for the derivative term </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="gaecc08367c7c6fc646cefa878c6388110" name="gaecc08367c7c6fc646cefa878c6388110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecc08367c7c6fc646cefa878c6388110">&#9670;&#160;</a></span>MotorizedFader_init_PIDLowPass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_PIDLowPass </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>Tau</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the low pass for the PID D-Term. For details please look at the documentation of <a class="el" href="group___p_i_d___header.html#gaa8e7bc5b3255d4a17ad220c1e2e1fe43" title="Set tau to tune the low pass used on the D-Term to reduce noise. Increase tau for a lower crossover f...">PID_set_LowPass()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">Tau</td><td>time constant of the low pass filter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga4f15ed1ee6d62c4903e9c165537acb19" name="ga4f15ed1ee6d62c4903e9c165537acb19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f15ed1ee6d62c4903e9c165537acb19">&#9670;&#160;</a></span>MotorizedFader_init_PIDMaxCCR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_PIDMaxCCR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>MaxCCR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize PID Output range For details please look at the documentation of <a class="el" href="group___p_i_d___header.html#ga8a04d72eb5b728ba9c13c3eb686f742d" title="Set the value range for the PID output.">PID_set_OutputMinMax()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure @paramm MaxCCR largest possible CCR value for PWM </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. Setup PID Output limits with -CCR to CCR. "-" indicates the down direction.</p>

</div>
</div>
<a id="gabe4ccb946b406da01f4b90c9db2e5cf4" name="gabe4ccb946b406da01f4b90c9db2e5cf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe4ccb946b406da01f4b90c9db2e5cf4">&#9670;&#160;</a></span>MotorizedFader_init_PIDSampleTimeInMs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_PIDSampleTimeInMs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>SampleTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the sample to control the PID update frequency. For details please look at the documentation of <a class="el" href="group___p_i_d___header.html#gad02b747382e1b8d2b946b73b29117215" title="Set the sample time to control the update frequency of the PID-controller. Make sure that the program...">PID_set_SampleTimeInMs()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">Threshold</td><td>of the sample time in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga273d5d0c65a9806145ca5f7c4ee79888" name="ga273d5d0c65a9806145ca5f7c4ee79888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga273d5d0c65a9806145ca5f7c4ee79888">&#9670;&#160;</a></span>MotorizedFader_init_StartForce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_StartForce </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>CCR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the start force the fader needs to start moving. To find the CCR value needed to move the motor, you can use <a class="el" href="group___t_b6612_f_n_g___header.html#gad6ba3bdbc2281be71a73f045adeb2195" title="Call this function to move the motor clock wise. The speed is controlled by the CCR (Capture Compare ...">MotorDriver_move_ClockWise()</a> with the &amp;Fader-&gt;Motor and increase the CCR until the fader starts moving up. Sometimes trial and error will also lead to a working value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">CCR</td><td>value where the fader starts to move </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga7cc201b68ed12f7e9e4a2dd37039a72d" name="ga7cc201b68ed12f7e9e4a2dd37039a72d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7cc201b68ed12f7e9e4a2dd37039a72d">&#9670;&#160;</a></span>MotorizedFader_init_StopRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_StopRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>CCR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a CCR Range, where the motor will not move. This is required to avoid resonating around the target value. Resonating is caused because the fader will always move at least with the start force. As the ADC value will never be completely stable and reached on point, the fader would always try to correct. This stop range is a simple approach to resolve this problem. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">CCR</td><td>value where the fader does not move. The range will be from -CCR to +CCr. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="gab68de15bad1210ec835765bcdd319433" name="gab68de15bad1210ec835765bcdd319433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab68de15bad1210ec835765bcdd319433">&#9670;&#160;</a></span>MotorizedFader_init_Structure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_Structure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link the Fader to the internal structure for internal use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga46f4e997284c776f9cc6fa3eaaca694b" name="ga46f4e997284c776f9cc6fa3eaaca694b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46f4e997284c776f9cc6fa3eaaca694b">&#9670;&#160;</a></span>MotorizedFader_init_TouchDischargeTimeMsAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_TouchDischargeTimeMsAll </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>TimeInMs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the discharge time for the sample capacitor of the TSC group. This value is used fop all TSC sample capacitors and all faders. Only initialize this once for all. For details please look at the documentation of <a class="el" href="group___t_s_c_button___header.html#gaf706cac3ee0be2f3f1770d87953f2c03" title="Setup the discharge time in ms, that is required to discharge the sensing capacitor....">TSCButton_init_DischargeTimeMsAll()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">TimeInMs</td><td>discharge time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga875be11d7ac3ebf4a78a0203b313cdbe" name="ga875be11d7ac3ebf4a78a0203b313cdbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga875be11d7ac3ebf4a78a0203b313cdbe">&#9670;&#160;</a></span>MotorizedFader_init_TouchThreshold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_TouchThreshold </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Threshold</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the threshold value where the touch line will change between touched and released. For details please look at the documentation of <a class="el" href="group___t_s_c_button___header.html#gac563acc8b2838373da3cf6dee8127810" title="Setup the threshold where the TSC button will toggle between touched and released.">TSCButton_init_Threshold()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">Threshold</td><td>value when the touch state toggles. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. init TSC threshold For details look at <a class="el" href="group___t_s_c_button___header.html#gac563acc8b2838373da3cf6dee8127810" title="Setup the threshold where the TSC button will toggle between touched and released.">TSCButton_init_Threshold()</a></p>

</div>
</div>
<a id="ga5baa698889287cd04250271d47bc827c" name="ga5baa698889287cd04250271d47bc827c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5baa698889287cd04250271d47bc827c">&#9670;&#160;</a></span>MotorizedFader_init_TouchTSC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_TouchTSC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TSC_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>htsc</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>IOChannel</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link the touch sense controller for the touch line. For details and how to setup TSC please look at the documentation of <a class="el" href="group___t_s_c_button___header.html#gadea3910a50802013c61688c34af42b2a" title="Link the htsc handler to this module and specify the IO Channel. All Buttons have to be initialized b...">TSCButton_init_TSC()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">htsc</td><td>pointer to the HAL generated TSC-handle of the TSC that is used for the button </td></tr>
    <tr><td class="paramname">IOChannel</td><td>channel of the TSC-Group used for this button. Please use the HAL defines that contain the proper register values. This is the naming convention: TSC_GROUPx_IOx. For nerds: it is also possible to use the CMSIS register define TSC_IOCCR_Gx_IOx. You can find the active channels in the htsc initialization in MX_TSC_init(). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. init TSC. For details look at <a class="el" href="group___t_s_c_button___header.html#gadea3910a50802013c61688c34af42b2a" title="Link the htsc handler to this module and specify the IO Channel. All Buttons have to be initialized b...">TSCButton_init_TSC()</a></p>

</div>
</div>
<a id="gad80274af9a746926c0030f1e4e00688f" name="gad80274af9a746926c0030f1e4e00688f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad80274af9a746926c0030f1e4e00688f">&#9670;&#160;</a></span>MotorizedFader_init_Wiper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_init_Wiper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ADC_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>Handle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link the ADC for the wiper. For details and how to set up ADC please look at the documentation of <a class="el" href="group___wiper___header.html#ga3769a4718f132d3298e7c6a9456667e9" title="Link HAL-ADC-handle used for wiper.">Wiper_init_ADC()</a>. </p>
<dl class="section note"><dt>Note</dt><dd>The wiper sample size is set to 100 on default. Change NUMBER_OF_SAMPLES in <a class="el" href="wiper_8h.html">wiper.h</a> if the wiper value has to be smoother. Do not increase the value too much, because that would cause, that the ADC value will be updated too slow to be used by PID. The motor would always overshoot.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">hadc</td><td>pointer to the HAL generated ADC-handle of the ADC that is used for the wiper </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. init ADC. For details look at <a class="el" href="group___wiper___header.html#ga3769a4718f132d3298e7c6a9456667e9" title="Link HAL-ADC-handle used for wiper.">Wiper_init_ADC()</a></p>
<p>2. init adc hysteresis. For details look at <a class="el" href="group___wiper___header.html#ga6ea4077964bf0c78ed5cb2e918fe07e7" title="Set hysteresis settings to default.">Wiper_init_Hysteresis()</a></p>

</div>
</div>
<a id="ga3c3f327024a871801a47eeec92ded07f" name="ga3c3f327024a871801a47eeec92ded07f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c3f327024a871801a47eeec92ded07f">&#9670;&#160;</a></span>MotorizedFader_manage_TSCInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_manage_TSCInterrupt </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this funciton in the HAL TSC Interrupt For details please look at the documentation of <a class="el" href="group___t_s_c_button___header.html#ga9a0bf2ea0b4d926c1ae1724ae86b24fc" title="Call this function in the HAL-Interrupt handler to set an internal interrupt flag for the TSC module.">TSCButton_manage_Interrupt()</a>. </p>
<p>Here is an example: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> HAL_TSC_ConvCpltCallback(TSC_HandleTypeDef* htsc)</div>
<div class="line">{</div>
<div class="line">  <a class="code hl_function" href="group___motor_fader___header.html#gafd9c406bade7d7d70e4bf78d2aa78f2f">MotorizedFader_manage_TSCInterrupt</a>();</div>
<div class="line">}</div>
<div class="ttc" id="agroup___motor_fader___header_html_gafd9c406bade7d7d70e4bf78d2aa78f2f"><div class="ttname"><a href="group___motor_fader___header.html#gafd9c406bade7d7d70e4bf78d2aa78f2f">MotorizedFader_manage_TSCInterrupt</a></div><div class="ttdeci">void MotorizedFader_manage_TSCInterrupt(void)</div><div class="ttdoc">Call this funciton in the HAL TSC Interrupt For details please look at the documentation of TSCButton...</div><div class="ttdef"><b>Definition</b> motorizedFader.c:330</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga2abcc6b1f7bf263dd0b38ce7bbe1a45b" name="ga2abcc6b1f7bf263dd0b38ce7bbe1a45b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2abcc6b1f7bf263dd0b38ce7bbe1a45b">&#9670;&#160;</a></span>MotorizedFader_manage_WiperInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_manage_WiperInterrupt </td>
          <td>(</td>
          <td class="paramtype">ADC_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>hadc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this function in the HAL ADC interrupt. For details please look at the documentation of <a class="el" href="group___wiper___header.html#ga5e2f11d13d6a2aabb6f4f5cd18a01966" title="Call this function in the HAL-Interrupt handler to set an internal interrupt flag for the wiper modul...">Wiper_manage_Interrupt()</a>. </p>
<p>Here is an example: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc)</div>
<div class="line">{</div>
<div class="line">  <a class="code hl_function" href="group___motor_fader___header.html#ga2abcc6b1f7bf263dd0b38ce7bbe1a45b">MotorizedFader_manage_WiperInterrupt</a>(&amp;UsersFader, hadc);</div>
<div class="line">}</div>
<div class="ttc" id="agroup___motor_fader___header_html_ga2abcc6b1f7bf263dd0b38ce7bbe1a45b"><div class="ttname"><a href="group___motor_fader___header.html#ga2abcc6b1f7bf263dd0b38ce7bbe1a45b">MotorizedFader_manage_WiperInterrupt</a></div><div class="ttdeci">void MotorizedFader_manage_WiperInterrupt(ADC_HandleTypeDef *hadc)</div><div class="ttdoc">Call this function in the HAL ADC interrupt. For details please look at the documentation of Wiper_ma...</div><div class="ttdef"><b>Definition</b> motorizedFader.c:324</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">hadc</td><td>pointer to the HAL generated ADC-handle of the ADC that is used for the wiper </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga8fa9156d709d8e82f48ae78fb2c34e73" name="ga8fa9156d709d8e82f48ae78fb2c34e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8fa9156d709d8e82f48ae78fb2c34e73">&#9670;&#160;</a></span>MotorizedFader_set_Target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_set_Target </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Target</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to set a Target value for the fader. It will move to this value automatically. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">Target</td><td>value where the fader should move to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="ga6ca42f1cf97193920b9a264dae0cd4d0" name="ga6ca42f1cf97193920b9a264dae0cd4d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ca42f1cf97193920b9a264dae0cd4d0">&#9670;&#160;</a></span>MotorizedFader_start_All()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_start_All </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this function once to start all faders. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. Start TSC for all faders</p>
<p>2. Start ADC for all faders</p>
<p>3. Start PWM for all faders</p>

</div>
</div>
<a id="gac067ec4bfb065187347817cff67a4483" name="gac067ec4bfb065187347817cff67a4483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac067ec4bfb065187347817cff67a4483">&#9670;&#160;</a></span>MotorizedFader_update_All()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorizedFader_update_All </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this function periodically in the main while loop to update all faders. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. Update all wipers</p>
<p>2. Update all TSCs</p>
<p>3. Loop through all faders. Inside the Loop:</p>
<p>4. Get the current TSC state</p>
<p>5. If TSC is not touched, update PID and move fader with the new CCR value. If it is touched, reset PID and stop the motor.</p>

</div>
</div>
<a id="gaddb7170a22bb40999cc9b0869ada20d4" name="gaddb7170a22bb40999cc9b0869ada20d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaddb7170a22bb40999cc9b0869ada20d4">&#9670;&#160;</a></span>move_Fader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void move_Fader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_motorized_fader__struct_td.html">MotorizedFader_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Fader</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>CCR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move fader with the new CCR value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Fader</td><td>pointer to the users fader structure </td></tr>
    <tr><td class="paramname">int</td><td>CCR value for the motors PWM @returen none </td></tr>
  </table>
  </dd>
</dl>
<p>1. Check if CCR is bigger then the required start CCR value. If yes, move the motor according to the CCR sign. - is down, + is up</p>
<p>2. If CCR is not in the Stop CCRT range, but lower than the required start force, move the fader with the start force value in the direction according to the CCR sign</p>
<p>3. It the motor is in the Stop CCR range, stop the motor</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
