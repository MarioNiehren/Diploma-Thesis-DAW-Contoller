<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Manual for Developing a DAW-Controller: Software Demo Projects: E:/Diplomarbeit/F-STM_Workspace_DemoProjects/L053R8T6_DemoProject_MotorizedFader/Core/Src/TB6612FNG_MotorDriver.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mdw_Logo_weiss.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">Manual for Developing a DAW-Controller: Software Demo Projects<span id="projectnumber">&#160;Demo Project</span>
   </div>
   <div id="projectbrief">This is the software module that contains demo projects for the deploma thesis: &quot;Handbuch zur Entwicklung eines DAW-Controllers&quot; (Eng: Manual for Developing a DAW-Controller).</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_t_b6612_f_n_g___motor_driver_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">TB6612FNG_MotorDriver.c File Reference<div class="ingroups"><a class="el" href="group___motor_fader.html">Motorized Fader</a> &raquo; <a class="el" href="group___t_b6612_f_n_g.html">TB6612FNG Dual DC motor driver</a> &raquo; <a class="el" href="group___t_b6612_f_n_g___source.html">Source Code</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="_t_b6612_f_n_g___motor_driver_8h_source.html">TB6612FNG_MotorDriver.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Initialize</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Use these functions to initialize the Motor Driver. </p>
</div></td></tr>
<tr class="memitem:ga877ef4a7ed2cca5408282f422ad2c713" id="r_ga877ef4a7ed2cca5408282f422ad2c713"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#ga877ef4a7ed2cca5408282f422ad2c713">MotorDriver_init_PinIn1</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, GPIO_TypeDef *GPIO, uint16_t Pin)</td></tr>
<tr class="memdesc:ga877ef4a7ed2cca5408282f422ad2c713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the GPIO Port and Pin used for IN1 of the device. This pin has to be an output, the name of the function refers to the name scheme of the driver IC.  <br /></td></tr>
<tr class="separator:ga877ef4a7ed2cca5408282f422ad2c713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59bd3def8b94017caf0679ecdb3655db" id="r_ga59bd3def8b94017caf0679ecdb3655db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#ga59bd3def8b94017caf0679ecdb3655db">MotorDriver_init_PinIn2</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, GPIO_TypeDef *GPIO, uint16_t Pin)</td></tr>
<tr class="memdesc:ga59bd3def8b94017caf0679ecdb3655db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the GPIO Port and Pin used for IN2 of the device. This pin has to be an output, the name of the function refers to the name scheme of the driver IC.  <br /></td></tr>
<tr class="separator:ga59bd3def8b94017caf0679ecdb3655db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacc62c40760ee9b979c48d28d515da0d" id="r_gaacc62c40760ee9b979c48d28d515da0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#gaacc62c40760ee9b979c48d28d515da0d">MotorDriver_init_PinSTBY</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, GPIO_TypeDef *GPIO, uint16_t Pin)</td></tr>
<tr class="memdesc:gaacc62c40760ee9b979c48d28d515da0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the GPIO Port and Pin used for STBY of the device. This pin has to be an output, the name of the function refers to the name scheme of the driver IC.  <br /></td></tr>
<tr class="separator:gaacc62c40760ee9b979c48d28d515da0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71f19c831735445aa3ddde0317a5fc37" id="r_ga71f19c831735445aa3ddde0317a5fc37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#ga71f19c831735445aa3ddde0317a5fc37">MotorDriver_init_PWM</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, TIM_HandleTypeDef *htim, uint16_t Channel)</td></tr>
<tr class="memdesc:ga71f19c831735445aa3ddde0317a5fc37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the TIM handle and channel used for PWM.  <br /></td></tr>
<tr class="separator:ga71f19c831735445aa3ddde0317a5fc37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Start</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Use these functions to process the motor driver </p>
</div></td></tr>
<tr class="memitem:ga86e8746a4da8dcc560e806c44f133292" id="r_ga86e8746a4da8dcc560e806c44f133292"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#ga86e8746a4da8dcc560e806c44f133292">MotorDriver_start_PWM</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor)</td></tr>
<tr class="memdesc:ga86e8746a4da8dcc560e806c44f133292"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function once for each initialized Motor. This will start the PWM timer with DMA.  <br /></td></tr>
<tr class="separator:ga86e8746a4da8dcc560e806c44f133292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Control</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Use these functions to control a motor on the driver. </p>
</div></td></tr>
<tr class="memitem:gad6ba3bdbc2281be71a73f045adeb2195" id="r_gad6ba3bdbc2281be71a73f045adeb2195"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#gad6ba3bdbc2281be71a73f045adeb2195">MotorDriver_move_ClockWise</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, uint16_t CCR)</td></tr>
<tr class="memdesc:gad6ba3bdbc2281be71a73f045adeb2195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function to move the motor clock wise. The speed is controlled by the CCR (Capture Compare Register), that tells the PWM timer, how many clock cycles should be high during one period.  <br /></td></tr>
<tr class="separator:gad6ba3bdbc2281be71a73f045adeb2195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24a326dcd3c7e7c9d1388c606f73c150" id="r_ga24a326dcd3c7e7c9d1388c606f73c150"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#ga24a326dcd3c7e7c9d1388c606f73c150">MotorDriver_move_CounterClockWise</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, uint16_t CCR)</td></tr>
<tr class="memdesc:ga24a326dcd3c7e7c9d1388c606f73c150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function to move the motor counter clock wise. The speed is controlled by the CCR (Capture Compare Register), that tells the PWM timer, how many clock cycles should be high during one period.  <br /></td></tr>
<tr class="separator:ga24a326dcd3c7e7c9d1388c606f73c150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8f2faefff12fb8bf1858cd5869b2861" id="r_gab8f2faefff12fb8bf1858cd5869b2861"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#gab8f2faefff12fb8bf1858cd5869b2861">MotorDriver_stop</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor)</td></tr>
<tr class="memdesc:gab8f2faefff12fb8bf1858cd5869b2861"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function to stop the motor without active brake. The output of the driver will be on high impedance (OFF). The CCR DMA buffer will not be affected.  <br /></td></tr>
<tr class="separator:gab8f2faefff12fb8bf1858cd5869b2861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35204f0b656e86adfcf0c944c9fc5064" id="r_ga35204f0b656e86adfcf0c944c9fc5064"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#ga35204f0b656e86adfcf0c944c9fc5064">MotorDriver_stop_ShortBreak</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor)</td></tr>
<tr class="memdesc:ga35204f0b656e86adfcf0c944c9fc5064"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function to stop the motor with a short brake. The output of the driver will be short circuited to stop the motor immediately.  <br /></td></tr>
<tr class="separator:ga35204f0b656e86adfcf0c944c9fc5064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga802ace52f0eef65b5316179424f3f7fb" id="r_ga802ace52f0eef65b5316179424f3f7fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#ga802ace52f0eef65b5316179424f3f7fb">MotorDriver_standby</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor)</td></tr>
<tr class="memdesc:ga802ace52f0eef65b5316179424f3f7fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function to set the driver to standby. Be aware that this will also affect the other motor connected to this IC.  <br /></td></tr>
<tr class="separator:ga802ace52f0eef65b5316179424f3f7fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f21dc5522dfba2cb02093017e752148" id="r_ga8f21dc5522dfba2cb02093017e752148"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_b6612_f_n_g___source.html#ga8f21dc5522dfba2cb02093017e752148">writePin_In1In2STBY</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, GPIO_PinState StateIn1, GPIO_PinState StateIn2, GPIO_PinState StateSTBY)</td></tr>
<tr class="memdesc:ga8f21dc5522dfba2cb02093017e752148"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to write Pin In1, In2 and STBY to control the driver.  <br /></td></tr>
<tr class="separator:ga8f21dc5522dfba2cb02093017e752148"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>Sep 4, 2023 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Mario Niehren </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2ca9457e11c007c45320d7fe4fa38528.html">L053R8T6_DemoProject_MotorizedFader</a></li><li class="navelem"><a class="el" href="dir_09ca6776745baf78c78f0eb664d19039.html">Core</a></li><li class="navelem"><a class="el" href="dir_254198b11c5fa2486535fa4cac5c09a1.html">Src</a></li><li class="navelem"><a class="el" href="_t_b6612_f_n_g___motor_driver_8c.html">TB6612FNG_MotorDriver.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
