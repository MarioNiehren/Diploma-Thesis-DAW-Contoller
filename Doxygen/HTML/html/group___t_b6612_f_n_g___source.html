<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Diploma Thesis DAW-Controller: Button Matrix: Source Code</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mdw_Logo_weiss.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">Diploma Thesis DAW-Controller: Button Matrix<span id="projectnumber">&#160;Demo Project</span>
   </div>
   <div id="projectbrief">This Project shows how to setup and use a button matrix.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group___t_b6612_f_n_g___source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a>  </div>
  <div class="headertitle"><div class="title">Source Code<div class="ingroups"><a class="el" href="group___motor_fader.html">Motorized Fader</a> &raquo; <a class="el" href="group___t_b6612_f_n_g.html">TB6612FNG Dual DC motor driver</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Study this part for details about this module.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:_t_b6612_f_n_g___motor_driver_8c" id="r__t_b6612_f_n_g___motor_driver_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_t_b6612_f_n_g___motor_driver_8c.html">TB6612FNG_MotorDriver.c</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Initialize</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to initialize the Motor Driver. </p>
</td></tr>
<tr class="memitem:ga877ef4a7ed2cca5408282f422ad2c713" id="r_ga877ef4a7ed2cca5408282f422ad2c713"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga877ef4a7ed2cca5408282f422ad2c713">MotorDriver_init_PinIn1</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, GPIO_TypeDef *GPIO, uint16_t Pin)</td></tr>
<tr class="memdesc:ga877ef4a7ed2cca5408282f422ad2c713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the GPIO Port and Pin used for IN1 of the device. This pin has to be an output, the name of the function refers to the name scheme of the driver IC.  <br /></td></tr>
<tr class="separator:ga877ef4a7ed2cca5408282f422ad2c713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59bd3def8b94017caf0679ecdb3655db" id="r_ga59bd3def8b94017caf0679ecdb3655db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga59bd3def8b94017caf0679ecdb3655db">MotorDriver_init_PinIn2</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, GPIO_TypeDef *GPIO, uint16_t Pin)</td></tr>
<tr class="memdesc:ga59bd3def8b94017caf0679ecdb3655db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the GPIO Port and Pin used for IN2 of the device. This pin has to be an output, the name of the function refers to the name scheme of the driver IC.  <br /></td></tr>
<tr class="separator:ga59bd3def8b94017caf0679ecdb3655db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacc62c40760ee9b979c48d28d515da0d" id="r_gaacc62c40760ee9b979c48d28d515da0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaacc62c40760ee9b979c48d28d515da0d">MotorDriver_init_PinSTBY</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, GPIO_TypeDef *GPIO, uint16_t Pin)</td></tr>
<tr class="memdesc:gaacc62c40760ee9b979c48d28d515da0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the GPIO Port and Pin used for STBY of the device. This pin has to be an output, the name of the function refers to the name scheme of the driver IC.  <br /></td></tr>
<tr class="separator:gaacc62c40760ee9b979c48d28d515da0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71f19c831735445aa3ddde0317a5fc37" id="r_ga71f19c831735445aa3ddde0317a5fc37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga71f19c831735445aa3ddde0317a5fc37">MotorDriver_init_PWM</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, TIM_HandleTypeDef *htim, uint16_t Channel)</td></tr>
<tr class="memdesc:ga71f19c831735445aa3ddde0317a5fc37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link the TIM handle and channel used for PWM.  <br /></td></tr>
<tr class="separator:ga71f19c831735445aa3ddde0317a5fc37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Start</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to process the motor driver </p>
</td></tr>
<tr class="memitem:ga86e8746a4da8dcc560e806c44f133292" id="r_ga86e8746a4da8dcc560e806c44f133292"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga86e8746a4da8dcc560e806c44f133292">MotorDriver_start_PWM</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor)</td></tr>
<tr class="memdesc:ga86e8746a4da8dcc560e806c44f133292"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function once for each initialized Motor. This will start the PWM timer with DMA.  <br /></td></tr>
<tr class="separator:ga86e8746a4da8dcc560e806c44f133292"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Control</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Use these functions to control a motor on the driver. </p>
</td></tr>
<tr class="memitem:gad6ba3bdbc2281be71a73f045adeb2195" id="r_gad6ba3bdbc2281be71a73f045adeb2195"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad6ba3bdbc2281be71a73f045adeb2195">MotorDriver_move_ClockWise</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, uint16_t CCR)</td></tr>
<tr class="memdesc:gad6ba3bdbc2281be71a73f045adeb2195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function to move the motor clock wise. The speed is controlled by the CCR (Capture Compare Register), that tells the PWM timer, how many clock cycles should be high during one period.  <br /></td></tr>
<tr class="separator:gad6ba3bdbc2281be71a73f045adeb2195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24a326dcd3c7e7c9d1388c606f73c150" id="r_ga24a326dcd3c7e7c9d1388c606f73c150"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga24a326dcd3c7e7c9d1388c606f73c150">MotorDriver_move_CounterClockWise</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, uint16_t CCR)</td></tr>
<tr class="memdesc:ga24a326dcd3c7e7c9d1388c606f73c150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function to move the motor counter clock wise. The speed is controlled by the CCR (Capture Compare Register), that tells the PWM timer, how many clock cycles should be high during one period.  <br /></td></tr>
<tr class="separator:ga24a326dcd3c7e7c9d1388c606f73c150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8f2faefff12fb8bf1858cd5869b2861" id="r_gab8f2faefff12fb8bf1858cd5869b2861"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab8f2faefff12fb8bf1858cd5869b2861">MotorDriver_stop</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor)</td></tr>
<tr class="memdesc:gab8f2faefff12fb8bf1858cd5869b2861"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function to stop the motor without active brake. The output of the driver will be on high impedance (OFF). The CCR DMA buffer will not be affected.  <br /></td></tr>
<tr class="separator:gab8f2faefff12fb8bf1858cd5869b2861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35204f0b656e86adfcf0c944c9fc5064" id="r_ga35204f0b656e86adfcf0c944c9fc5064"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga35204f0b656e86adfcf0c944c9fc5064">MotorDriver_stop_ShortBreak</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor)</td></tr>
<tr class="memdesc:ga35204f0b656e86adfcf0c944c9fc5064"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function to stop the motor with a short brake. The output of the driver will be short circuited to stop the motor immediately.  <br /></td></tr>
<tr class="separator:ga35204f0b656e86adfcf0c944c9fc5064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga802ace52f0eef65b5316179424f3f7fb" id="r_ga802ace52f0eef65b5316179424f3f7fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga802ace52f0eef65b5316179424f3f7fb">MotorDriver_standby</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor)</td></tr>
<tr class="memdesc:ga802ace52f0eef65b5316179424f3f7fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function to set the driver to standby. Be aware that this will also affect the other motor connected to this IC.  <br /></td></tr>
<tr class="separator:ga802ace52f0eef65b5316179424f3f7fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f21dc5522dfba2cb02093017e752148" id="r_ga8f21dc5522dfba2cb02093017e752148"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8f21dc5522dfba2cb02093017e752148">writePin_In1In2STBY</a> (<a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *Motor, GPIO_PinState StateIn1, GPIO_PinState StateIn2, GPIO_PinState StateSTBY)</td></tr>
<tr class="memdesc:ga8f21dc5522dfba2cb02093017e752148"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to write Pin In1, In2 and STBY to control the driver.  <br /></td></tr>
<tr class="separator:ga8f21dc5522dfba2cb02093017e752148"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Study this part for details about this module. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga877ef4a7ed2cca5408282f422ad2c713" name="ga877ef4a7ed2cca5408282f422ad2c713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga877ef4a7ed2cca5408282f422ad2c713">&#9670;&#160;</a></span>MotorDriver_init_PinIn1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver_init_PinIn1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_TypeDef *</td>          <td class="paramname"><span class="paramname"><em>GPIO</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Pin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link the GPIO Port and Pin used for IN1 of the device. This pin has to be an output, the name of the function refers to the name scheme of the driver IC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
    <tr><td class="paramname">GPIO</td><td>port of the In 1 Pin </td></tr>
    <tr><td class="paramname">Pin</td><td>number of In 1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. link GPIO and save Pin number to the Motor structure</p>

</div>
</div>
<a id="ga59bd3def8b94017caf0679ecdb3655db" name="ga59bd3def8b94017caf0679ecdb3655db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59bd3def8b94017caf0679ecdb3655db">&#9670;&#160;</a></span>MotorDriver_init_PinIn2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver_init_PinIn2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_TypeDef *</td>          <td class="paramname"><span class="paramname"><em>GPIO</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Pin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link the GPIO Port and Pin used for IN2 of the device. This pin has to be an output, the name of the function refers to the name scheme of the driver IC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
    <tr><td class="paramname">GPIO</td><td>port of the In 2 Pin </td></tr>
    <tr><td class="paramname">Pin</td><td>number of In 2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. link GPIO and save Pin number to the Motor structure</p>

</div>
</div>
<a id="gaacc62c40760ee9b979c48d28d515da0d" name="gaacc62c40760ee9b979c48d28d515da0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaacc62c40760ee9b979c48d28d515da0d">&#9670;&#160;</a></span>MotorDriver_init_PinSTBY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver_init_PinSTBY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_TypeDef *</td>          <td class="paramname"><span class="paramname"><em>GPIO</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Pin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link the GPIO Port and Pin used for STBY of the device. This pin has to be an output, the name of the function refers to the name scheme of the driver IC. </p>
<dl class="section warning"><dt>Warning</dt><dd>This Pin is shared for both motors initialized on one IC! That means, that the other motor will also be affected if the STBY Pin is active. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
    <tr><td class="paramname">GPIO</td><td>port of the STBY Pin </td></tr>
    <tr><td class="paramname">Pin</td><td>number of STBY </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. link GPIO and save Pin number to the Motor structure</p>

</div>
</div>
<a id="ga71f19c831735445aa3ddde0317a5fc37" name="ga71f19c831735445aa3ddde0317a5fc37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71f19c831735445aa3ddde0317a5fc37">&#9670;&#160;</a></span>MotorDriver_init_PWM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver_init_PWM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TIM_HandleTypeDef *</td>          <td class="paramname"><span class="paramname"><em>htim</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>Channel</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link the TIM handle and channel used for PWM. </p>
<p>#How to setup PWM in CubeMX: </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo</a></b></dt><dd>Setup PWM-Freuqency = (TIM-CLK / Counter) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
    <tr><td class="paramname">htim</td><td>pointer to the HAL-handle for the timer used for PWM </td></tr>
    <tr><td class="paramname">channel</td><td>of the timer used for PWM. Use the hal HAL-defines. They have the following format: TIM_CHANNEL_x, where x is the channel number (1 - 4). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. link htim and save channel to the Motor structure</p>

</div>
</div>
<a id="gad6ba3bdbc2281be71a73f045adeb2195" name="gad6ba3bdbc2281be71a73f045adeb2195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6ba3bdbc2281be71a73f045adeb2195">&#9670;&#160;</a></span>MotorDriver_move_ClockWise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver_move_ClockWise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>CCR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this function to move the motor clock wise. The speed is controlled by the CCR (Capture Compare Register), that tells the PWM timer, how many clock cycles should be high during one period. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
    <tr><td class="paramname">CCR</td><td>register value. This can be from 0 to the value of ARR (Auto Reload Register). ARR is the value set up in the Counter Period field in Cube MX. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. If motor is not in CW mode, set the pins as required by <a class="el" href="group___t_b6612_f_n_g.html#TB6612FNG_Datasheet">Datasheet</a> for CW mode.</p>
<p>2. If CCR changed, set the new CCR value to the DMA buffer.</p>

</div>
</div>
<a id="ga24a326dcd3c7e7c9d1388c606f73c150" name="ga24a326dcd3c7e7c9d1388c606f73c150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24a326dcd3c7e7c9d1388c606f73c150">&#9670;&#160;</a></span>MotorDriver_move_CounterClockWise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver_move_CounterClockWise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>CCR</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this function to move the motor counter clock wise. The speed is controlled by the CCR (Capture Compare Register), that tells the PWM timer, how many clock cycles should be high during one period. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
    <tr><td class="paramname">CCR</td><td>register value. This can be from 0 to the value of ARR (Auto Reload Register). ARR is the value set up in the Counter Period field in Cube MX. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. If motor is not in CCW mode, set the pins as required by <a class="el" href="group___t_b6612_f_n_g.html#TB6612FNG_Datasheet">Datasheet</a> for CCW mode.</p>
<p>2. If CCR changed, set the new CCR value to the DMA buffer.</p>

</div>
</div>
<a id="ga802ace52f0eef65b5316179424f3f7fb" name="ga802ace52f0eef65b5316179424f3f7fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga802ace52f0eef65b5316179424f3f7fb">&#9670;&#160;</a></span>MotorDriver_standby()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver_standby </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this function to set the driver to standby. Be aware that this will also affect the other motor connected to this IC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. If motor is not in standby mode, set the pins as required by <a class="el" href="group___t_b6612_f_n_g.html#TB6612FNG_Datasheet">Datasheet</a> for standby mode.</p>

</div>
</div>
<a id="ga86e8746a4da8dcc560e806c44f133292" name="ga86e8746a4da8dcc560e806c44f133292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86e8746a4da8dcc560e806c44f133292">&#9670;&#160;</a></span>MotorDriver_start_PWM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver_start_PWM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this function once for each initialized Motor. This will start the PWM timer with DMA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a id="gab8f2faefff12fb8bf1858cd5869b2861" name="gab8f2faefff12fb8bf1858cd5869b2861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab8f2faefff12fb8bf1858cd5869b2861">&#9670;&#160;</a></span>MotorDriver_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this function to stop the motor without active brake. The output of the driver will be on high impedance (OFF). The CCR DMA buffer will not be affected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. If motor is not in stop mode, set the pins as required by <a class="el" href="group___t_b6612_f_n_g.html#TB6612FNG_Datasheet">Datasheet</a> for stop mode.</p>

</div>
</div>
<a id="ga35204f0b656e86adfcf0c944c9fc5064" name="ga35204f0b656e86adfcf0c944c9fc5064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35204f0b656e86adfcf0c944c9fc5064">&#9670;&#160;</a></span>MotorDriver_stop_ShortBreak()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MotorDriver_stop_ShortBreak </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this function to stop the motor with a short brake. The output of the driver will be short circuited to stop the motor immediately. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<p>1. If motor is not in short brake mode, set the pins as required by <a class="el" href="group___t_b6612_f_n_g.html#TB6612FNG_Datasheet">Datasheet</a> for short brake mode.</p>

</div>
</div>
<a id="ga8f21dc5522dfba2cb02093017e752148" name="ga8f21dc5522dfba2cb02093017e752148"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f21dc5522dfba2cb02093017e752148">&#9670;&#160;</a></span>writePin_In1In2STBY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writePin_In1In2STBY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_b6612_f_n_g_motor_driver__struct_td.html">TB6612FNGMotorDriver_structTd</a> *</td>          <td class="paramname"><span class="paramname"><em>Motor</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_PinState</td>          <td class="paramname"><span class="paramname"><em>StateIn1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_PinState</td>          <td class="paramname"><span class="paramname"><em>StateIn2</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPIO_PinState</td>          <td class="paramname"><span class="paramname"><em>StateSTBY</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to write Pin In1, In2 and STBY to control the driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Motor</td><td>pointer to the users motor structure of the motor used with this IC. </td></tr>
    <tr><td class="paramname">StateIn1</td><td>GPIO_PIN_SET or GPIO_PIN_RESET </td></tr>
    <tr><td class="paramname">StateIn2</td><td>GPIO_PIN_SET or GPIO_PIN_RESET </td></tr>
    <tr><td class="paramname">StateSTBY</td><td>GPIO_PIN_SET or GPIO_PIN_RESET </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
